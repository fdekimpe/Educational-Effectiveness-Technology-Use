<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VR Effectiviteitsmeting</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- Introductiescherm -->
        <div id="intro" class="card my-4">
            <div class="card-body">
                <h1 class="card-title">Educational Effectiveness van technology-based simulatieleren: Virtual Reality</h1>
                <div class="intro-text">
                    <p>Deze vragenlijst gaat over de effectiviteit van Virtual Reality (VR) in het onderwijs. We hebben het dan over de mate waarin een VR-applicatie bijdraagt aan de realisatie van de leerdoelen. Het geleerde is ook na gebruik van de applicatie en in andere situaties beschikbaar (langere termijn en transfer). Met Virtual Reality (VR) bedoelen we alle vormen van digitale werelden: AR (Augmented Reality), XR (eXtended Reality) en serious/educational games.</p>
                    <p>De vragenlijst bestaat uit 4 blokken met stellingen die elk inzoomen op een aspect van een VR-applicatie.</p>
                    
                    <div class="alert alert-info">
                        <h5>Instructies:</h5>
                        <ul>
                            <li>Beantwoord elke stelling door het juiste bolletje aan te vinken</li>
                            <li>Je kunt tussentijds stoppen en later verder gaan</li>
                            <li>Aan het einde kun je je antwoorden exporteren</li>
                        </ul>
                    </div>
                    
                    <div class="dice-section mb-4">
                        <h4>DICE-framework</h4>
                        <p>Stel eerst vast of VR in jouw context onmisbaar is en kruis de reden aan (DICE-framework â€“ OECD, 2024).</p>
                        <p>De leersituatie zonder VR is:</p>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="dice" id="diceDangerous" value="dangerous">
                            <label class="form-check-label" for="diceDangerous">
                                Dangerous (gevaarlijk)
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="dice" id="diceImpossible" value="impossible">
                            <label class="form-check-label" for="diceImpossible">
                                Impossible (onmogelijk)
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="dice" id="diceCounterproductive" value="counterproductive">
                            <label class="form-check-label" for="diceCounterproductive">
                                Counterproductive (onwenselijk)
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="dice" id="diceExpensive" value="expensive">
                            <label class="form-check-label" for="diceExpensive">
                                Expensive (te duur)
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="dice" id="diceNone" value="none">
                            <label class="form-check-label" for="diceNone">
                                Geen van bovenstaande
                            </label>
                        </div>
                        <div id="diceOtherSection" class="mt-3" style="display: none;">
                            <label for="diceOther" class="form-label">Geef aan waarom VR toch wordt overwogen:</label>
                            <textarea class="form-control" id="diceOther" rows="3"></textarea>
                        </div>
                    </div>
                    
                    <button id="startBtn" class="btn btn-primary">Start vragenlijst</button>
                </div>
            </div>
        </div>

        <!-- Voortgangsbalk -->
        <div id="progress-container" class="d-none">
            <div class="d-flex justify-content-between mb-2">
                <span>Voortgang:</span>
                <span id="progress-text">0/44 vragen beantwoord</span>
            </div>
            <div class="progress mb-4">
                <div id="progress-bar" class="progress-bar" role="progressbar" style="width: 0%" 
                     aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
        </div>

        <!-- Section Navigation -->
        <div id="section-navigation" class="d-flex justify-content-between mb-4" style="display: none;">
            <button class="btn btn-outline-primary section-nav" data-section="0">Deel 1: Doelgerichtheid</button>
            <button class="btn btn-outline-secondary section-nav" data-section="1">Deel 2: Didactiek</button>
            <button class="btn btn-outline-secondary section-nav" data-section="2">Deel 3: Leermechanismen</button>
            <button class="btn btn-outline-secondary section-nav" data-section="3">Deel 4: Effecten</button>
        </div>

        <!-- Section Progress Bar -->
        <div id="section-progress-container" class="mb-4" style="display: none;">
            <div class="d-flex justify-content-between mb-1">
                <small id="section-progress-text">Vraag 0/0</small>
                <small id="section-title"></small>
            </div>

            <!-- Question Sections -->
            <div id="section-0" class="question-section">
                <div class="card my-4">
                    <div class="card-body">
                        <h2 class="card-title">Deel 1: Doelgerichtheid</h2>
                        
                        <!-- Vraag 1 -->
                        <div id="q1_1" class="question">
                            <p class="question-text">1. De VR-toepassing is afgestemd op de leerdoelen van de cursus/module.</p>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q1" id="q1_1_1" value="1">
                                <label class="form-check-label" for="q1_1_1">Helemaal oneens</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q1" id="q1_1_2" value="2">
                                <label class="form-check-label" for="q1_1_2">Oneens</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q1" id="q1_1_3" value="3">
                                <label class="form-check-label" for="q1_1_3">Neutraal</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q1" id="q1_1_4" value="4">
                                <label class="form-check-label" for="q1_1_4">Eens</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q1" id="q1_1_5" value="5">
                                <label class="form-check-label" for="q1_1_5">Helemaal eens</label>
                            </div>
                        </div>
                        
                        <!-- Vraag 2 -->
                        <div id="q1_2" class="question d-none">
                            <p class="question-text">2. De leerdoelen van de VR-toepassing zijn duidelijk geformuleerd.</p>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q2" id="q2_1_1" value="1">
                                <label class="form-check-label" for="q2_1_1">Helemaal oneens</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q2" id="q2_1_2" value="2">
                                <label class="form-check-label" for="q2_1_2">Oneens</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q2" id="q2_1_3" value="3">
                                <label class="form-check-label" for="q2_1_3">Neutraal</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q2" id="q2_1_4" value="4">
                                <label class="form-check-label" for="q2_1_4">Eens</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q2" id="q2_1_5" value="5">
                                <label class="form-check-label" for="q2_1_5">Helemaal eens</label>
                            </div>
                        </div>
                        
                        <!-- Voeg hier meer vragen toe voor sectie 1 -->
                        
                    </div>
                    <div class="card-footer d-flex justify-content-between">
                        <button class="btn btn-secondary prev-question">Vorige vraag</button>
                        <button class="btn btn-primary next-question">Volgende vraag</button>
                    </div>
                </div>
            </div>

            <div id="section-1" class="question-section d-none">
                <div class="card my-4">
                    <div class="card-body">
                        <h2 class="card-title">Deel 2: Didactiek</h2>
                        
                        <!-- Vraag 1 -->
                        <div id="q2_1" class="question">
                            <p class="question-text">1. De instructies in de VR-toepassing zijn duidelijk.</p>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q2_1" id="q2_1_1" value="1">
                                <label class="form-check-label" for="q2_1_1">Helemaal oneens</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q2_1" id="q2_1_2" value="2">
                                <label class="form-check-label" for="q2_1_2">Oneens</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q2_1" id="q2_1_3" value="3">
                                <label class="form-check-label" for="q2_1_3">Neutraal</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q2_1" id="q2_1_4" value="4">
                                <label class="form-check-label" for="q2_1_4">Eens</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q2_1" id="q2_1_5" value="5">
                                <label class="form-check-label" for="q2_1_5">Helemaal eens</label>
                            </div>
                        </div>
                        
                        <!-- Meer vragen kunnen hier worden toegevoegd -->
                        
                    </div>
                    <div class="card-footer d-flex justify-content-between">
                        <button class="btn btn-secondary prev-question">Vorige vraag</button>
                        <button class="btn btn-primary next-question">Volgende vraag</button>
                    </div>
                </div>
            </div>

            <div id="section-2" class="question-section card my-4 d-none">
                <div class="card-body">
                    <h2 class="card-title">Deel 3: Leermechanismen</h2>
                    <p>Deze sectie bevat vragen over de leermechanismen in de VR-toepassing.</p>
                    <!-- Add more questions here -->
                </div>
                <div class="card-footer">
                    <button class="btn btn-secondary prev-section">Vorige</button>
                    <button class="btn btn-primary next-section">Volgende</button>
                </div>
            </div>

            <div id="section-3" class="question-section card my-4 d-none">
                <div class="card-body">
                    <h2 class="card-title">Deel 4: Effecten</h2>
                    <p>Deze sectie bevat vragen over de effecten van de VR-toepassing.</p>
                    <!-- Add more questions here -->
                </div>
                <div class="card-footer">
                    <button class="btn btn-secondary prev-section">Vorige</button>
                    <button class="btn btn-success">Afronden</button>
                </div>
            </div>
            <div class="progress">
                <div id="section-progress-bar" class="progress-bar" role="progressbar" style="width: 0%" 
                     aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
        </div>

        <!-- Vragenlijst -->
        <div id="questionnaire" class="d-none">
            <div id="section-description" class="alert alert-info mb-4"></div>
            <div id="question-container"></div>
            
            <div class="d-flex justify-content-between mt-4">
                <button id="prevBtn" class="btn btn-secondary">Vorige</button>
                <div>
                    <button id="saveBtn" class="btn btn-outline-primary me-2">Opslaan</button>
                    <button id="nextBtn" class="btn btn-primary">Volgende</button>
                </div>
            </div>
        </div>

        <!-- Samenvatting -->
        <div id="summary" class="card my-4 d-none">
            <div class="card-body">
                <h2 class="card-title">Bedankt voor het invullen!</h2>
                <p>Je hebt alle vragen ingevuld. Hieronder zie je een overzicht van je antwoorden.</p>
                
                <div id="answers-summary" class="mb-4"></div>
                
                <div class="d-flex flex-wrap gap-2">
                    <button id="exportCsv" class="btn btn-success">
                        <i class="fas fa-file-csv"></i> Exporteer naar CSV
                    </button>
                    <button id="exportExcel" class="btn btn-success">
                        <i class="fas fa-file-excel"></i> Exporteer naar Excel
                    </button>
                    <button id="exportPdf" class="btn btn-success">
                        <i class="fas fa-file-pdf"></i> Exporteer naar PDF
                    </button>
                    <button id="newResponse" class="btn btn-outline-secondary ms-auto">
                        <i class="fas fa-redo"></i> Nieuwe vragenlijst
                    </button>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer mt-5 py-3 bg-light">
        <div class="container text-center">
            <span class="text-muted">
                Jonker, H., Damhuis, R., de Kimpe, F., Pinkster-Schalken, S., Greven, M., & Pol, A.-M. (2024). 
                Vragenlijst voor het meten van Educational Effectiveness van Virtual Reality. 
                [versie 2]. Hogeschool Windesheim, lectoraat Onderwijsinnovatie en ICT/lerarenopleiding Technische Beroepen.
            </span>
        </div>
    </footer>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
<script src="https://cdn.sheetjs.com/xlsx-0.19.3/package/dist/xlsx.full.min.js"></script>
<script>
    // Handle DICE framework selection
    document.addEventListener('DOMContentLoaded', function() {
        // Show/hide other textarea based on DICE selection
        const diceRadios = document.querySelectorAll('input[name="dice"]');
        const diceOtherSection = document.getElementById('diceOtherSection');
        
        diceRadios.forEach(radio => {
            radio.addEventListener('change', function() {
                if (this.value === 'none') {
                    diceOtherSection.style.display = 'block';
                } else {
                    diceOtherSection.style.display = 'none';
                }
            });
        });

        // Handle section navigation
        const sectionNavs = document.querySelectorAll('.section-nav');
        sectionNavs.forEach(nav => {
            nav.addEventListener('click', function() {
                // Remove active class from all buttons
                sectionNavs.forEach(btn => {
                    btn.classList.remove('btn-primary');
                    btn.classList.add('btn-outline-secondary');
                });
                // Add active class to clicked button
                this.classList.remove('btn-outline-secondary');
                this.classList.add('btn-primary');
                // Here you would add code to show the selected section
            });
        });

        let currentSection = 0;
        let currentQuestion = 0;
        const totalSections = 4; // Aantal secties in de vragenlijst
        const questionsPerSection = {
            0: 5,  // Aantal vragen in sectie 1
            1: 5,  // Aantal vragen in sectie 2
            2: 5,  // Aantal vragen in sectie 3
            3: 5   // Aantal vragen in sectie 4
        };

        // Show question function
        function showQuestion(sectionIndex, questionIndex) {
            // Update current section and question
            currentSection = sectionIndex;
            currentQuestion = questionIndex;
            
            // Hide all questions first
            document.querySelectorAll('.question').forEach(question => {
                question.classList.add('d-none');
            });
            
            // Show the current question
            const questionId = `q${sectionIndex + 1}_${questionIndex + 1}`;
            const questionElement = document.getElementById(questionId);
            if (questionElement) {
                questionElement.classList.remove('d-none');
            }
            
            // Show the current section
            document.querySelectorAll('.question-section').forEach(section => {
                section.classList.add('d-none');
            });
            document.getElementById(`section-${sectionIndex}`).classList.remove('d-none');
            
            // Update navigation buttons
            updateNavigationButtons();
            // Update progress
            updateProgress();
        }
        
        // Show section function
        function showSection(sectionIndex) {
            // Reset to first question of the section
            showQuestion(sectionIndex, 0);
        }

        // Update navigation buttons state
        function updateNavigationButtons() {
            const totalQuestions = questionsPerSection[currentSection] || 0;
            const isLastQuestion = currentQuestion >= totalQuestions - 1;
            const isLastSection = currentSection >= totalSections - 1;

            // Update previous button
            const prevButtons = document.querySelectorAll('.prev-question, .prev-section');
            prevButtons.forEach(btn => {
                btn.disabled = currentQuestion === 0 && currentSection === 0;
                btn.style.visibility = (currentQuestion === 0 && currentSection === 0) ? 'hidden' : 'visible';
            });

            // Update next button
            const nextButtons = document.querySelectorAll('.next-question, .next-section');
            nextButtons.forEach(btn => {
                if (isLastQuestion && isLastSection) {
                    btn.textContent = 'Afronden';
                    btn.classList.add('btn-success');
                    btn.classList.remove('btn-primary');
                } else if (isLastQuestion) {
                    btn.textContent = 'Volgende sectie';
                    btn.classList.add('btn-primary');
                    btn.classList.remove('btn-success');
                } else {
                    btn.textContent = 'Volgende vraag';
                    btn.classList.add('btn-primary');
                    btn.classList.remove('btn-success');
                }
            });

            // Update section navigation
            document.querySelectorAll('.section-nav').forEach(btn => {
                btn.classList.remove('active');
                if (parseInt(btn.dataset.section) === currentSection) {
                    btn.classList.add('active');
                }
            });
        }

        // Update progress function
        function updateProgress() {
            // Add your progress update logic here
            // For example: update progress bar, question counters, etc.
        }

        // Navigation event listeners
        function setupNavigation() {
            // Next question/section button
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('next-question') || e.target.classList.contains('next-section')) {
                    const totalQuestions = questionsPerSection[currentSection] || 0;
                    
                    if (currentQuestion < totalQuestions - 1) {
                        // Go to next question in current section
                        showQuestion(currentSection, currentQuestion + 1);
                    } else if (currentSection < totalSections - 1) {
                        // Go to first question of next section
                        showQuestion(currentSection + 1, 0);
                    } else {
                        // Last question of last section - submit form
                        alert('Bedankt voor het invullen van de vragenlijst!');
                        // Hier kun je de verzendlogica toevoegen
                    }
                }
            });

            // Previous question/section button
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('prev-question') || e.target.classList.contains('prev-section')) {
                    if (currentQuestion > 0) {
                        // Go to previous question in current section
                        showQuestion(currentSection, currentQuestion - 1);
                    } else if (currentSection > 0) {
                        // Go to last question of previous section
                        const prevSection = currentSection - 1;
                        const prevSectionQuestions = questionsPerSection[prevSection] || 0;
                        showQuestion(prevSection, prevSectionQuestions - 1);
                    }
                }
            });

            // Section navigation
            document.querySelectorAll('.section-nav').forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    const sectionIndex = parseInt(this.getAttribute('data-section'));
                    if (!isNaN(sectionIndex)) {
                        showSection(sectionIndex);
                    }
                });
            });
        }

        // Start button functionality
        const startBtn = document.getElementById('startBtn');
        if (startBtn) {
            startBtn.addEventListener('click', function() {
                document.getElementById('intro').classList.add('d-none');
                document.getElementById('progress-container').classList.remove('d-none');
                document.getElementById('section-navigation').style.display = 'flex';
                document.getElementById('section-progress-container').style.display = 'block';
                
                // Initialize navigation
                setupNavigation();
                
                // Show first question of first section
                showQuestion(0, 0);
            });
        }
    });
</script>
<script src="data.js"></script>
<script src="script.js"></script>
    </body>
</html>
